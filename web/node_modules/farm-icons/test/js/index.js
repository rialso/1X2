
function js(src, id, callback) {
    var s = document.createElement('script');
    if(src){
        s.src = src;
    }
    if(id){
        var x = document.getElementById(id);
        if(typeof(x) != 'undefined' && x != null){x.remove(x.selectedIndex);}
        s.id  = id;
    }
    s.async = true;
    if (callback){
        s.onreadystatechange = s.onload = function() {
            var state = s.readyState;
            if (!callback.done && (!state || /loaded|complete/.test(state))) {
                callback.done = true;
                callback();
            }
        };
        s.onreadystatechange = s.onerror = function() {
            callback(farm.e[10]);
        };
    }
    document.body.appendChild(s);
};



document.addEventListener('DOMContentLoaded', function() {



    farm_icons({

        icons2      :'img/selection'
    });






    var tpl_base;

    tpl_base = '<div id="farm-header" class="farm-header"></div>';
    tpl_base+= '<div id="icons-list" class="icons-list"></div>';

    document.getElementById('farm-main').innerHTML = tpl_base;

    var tpl_farm_header;
    tpl_farm_header = '<section id="home-page" class="home-page farm-content"><div class="farm-logo-container">';
    tpl_farm_header += '<div id="stars"></div><div id="stars2"></div><div id="stars3"></div>';
    tpl_farm_header += '<div class="farm-logo-overlay flexbox">';
    tpl_farm_header +=      '<div class="farm-logo" farm-icon="#icon-farm-logo"></div>';
    tpl_farm_header += '</div>';
    //document.getElementById('farm-header').innerHTML = tpl_farm_header;


    var header = document.getElementById("farm-header");
    farm_icons.load(header, tpl_farm_header);


    js( 'img/selection.js', 'svg_111', function(data) {
        //console.log('@@@@@@@', window[id])
        //document.getElementById("farmSVG").innerHTML += window["tpl_"+id]
        console.log(icons2)
        //icns.svg_symbol( window[id].icons )

        var icn = icons2.icons;

        var tpl_icon_list;

        tpl_icon_list = '';

        for(var i=0;i<icn.length;i++){
            //console.log(-i)

            console.log(icn[i].properties.name )

            var logoName = icn[i].properties.name;

            
            tpl_icon_list += '<div class="font-icon-list">';
            tpl_icon_list +=    '<div class="font-icon-detail">';
            tpl_icon_list +=        '<div class="icon-'+logoName+' icons" farm-icon="#icon-'+logoName+'"></div>';
            tpl_icon_list +=        '<input type="text" value="icon-'+logoName+'" class="font-icon-name">';
            tpl_icon_list +=    '</div>'
            tpl_icon_list += '</div>';


        }
        var icons_list = document.getElementById("icons-list");
        farm_icons.load(icons_list, tpl_icon_list);
    });

});





