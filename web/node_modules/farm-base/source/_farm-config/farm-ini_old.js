
/*
 * 2015 FARM Staff 
 * v 0.0.1      ->      Starting release [09, 2015]

                                \\
                               (o>
                            \\_//)
                             \_/_)
_____________________________ _|_ _______________________________  


                           \|||/
                           (o o)
                  ------ooO-(_)-Ooo------
*/

;var farm = {
    /*
    e: errors,
    f: farm,
    n: navigator,
    r: roots,
    o: options,
    l: language,
    i: icons
    */
    e  :{
            10:{id:10, text:'ERROR_FILE_NOT_FOUND'}
        },
    // ruta por defecto de options
    f  :{
            r:{
                options     :'farm/farm-opts.js',
                options_ext :'farm/farm-opts-ext.js',

                require     :'farm/farm-load-require.js', //require
                others      :'farm/farm-load-others.js',  //others roots 
                baseUrl     :''                           // baseUrl
            }
        },
    l  :{},
    n  :{},
    fn :{

        css: function(url, id) {
            var link = document.createElement("link");
            //link.type = "text/css";
            link.rel = "stylesheet";
            if(url){
                link.href = url;
            }
            if(id){
                var x = document.getElementById(id);
                if(typeof(x) != 'undefined' && x != null){x.remove(x.selectedIndex);}
                link.id  = id;
            }
            document.getElementsByTagName("head")[0].appendChild(link);
            //document.getElementsByTagName("body")[0].appendChild(link);
        },

        style: function(id) {
            var link = document.createElement("style");
            //link.type = "text/css";
            link.rel = "stylesheet";
         
            if(id){
                var x = document.getElementById(id);
                if(typeof(x) != 'undefined' && x != null){x.remove(x.selectedIndex);}
                link.id  = id;
            }
            document.getElementsByTagName("head")[0].appendChild(link);
        },

        js: function(src, id, callback) {
            var s = document.createElement('script');
            if(src){
                s.src = src;
            }
            if(id){
                var x = document.getElementById(id);
                if(typeof(x) != 'undefined' && x != null){x.remove(x.selectedIndex);}
                s.id  = id;
            }
            s.async = true;
            if (callback){
                s.onreadystatechange = s.onload = function() {
                    var state = s.readyState;
                    if (!callback.done && (!state || /loaded|complete/.test(state))) {
                        callback.done = true;
                        callback();
                    }
                };
                s.onreadystatechange = s.onerror = function() {
                    callback(farm.e[10]);
                };
            }
            document.body.appendChild(s);
        },

        svg: function(id) {
            var s = document.createElement('svg');
            s.setAttribute('xmlns',"http://www.w3.org/2000/svg") ;
            //s.setAttribute('xmlns:xlink',"http://www.w3.org/1999/xlink");
            s.setAttribute('with',"0");
            s.setAttribute('height',"0");
            if(id){
                var x = document.getElementById(id);
                if(typeof(x) != 'undefined' && x != null){x.remove(x.selectedIndex);}
                s.id  = id;
            }
            document.body.appendChild(s);
        },

        viewbox: function(id, html) {
            var div = document.createElement("div");
            div.innerHTML = html;
            var preElements = div.querySelectorAll('[viewbox]');
            for(var i = 0; i < preElements.length; ++ i){
                var element = preElements[i];
                var viewbox = element.getAttribute('viewbox')
                var icon = element.getAttribute('icon')
                element.innerHTML = '<svg viewBox="'+viewbox+'"><g filter=""><use xlink:href="'+icon+'"></use></g></svg>';
            }
            if(id==='body'){

                console.error('Alert! No append element to body with id: '+id)

                document.body.appendChild(div);

            }else{
                //console.log(div.innerHTML)
                if(document.getElementById(id)){
                    var x = document.getElementById(id);
                    x.innerHTML = div.innerHTML;
                }
                else{
                    console.error('Alert! function viewbox. No existe ningun id: '+id)
                } 
            } 
        },

        pages: function(id, page) {
            /*
            var res = html.replace( /\{\{(.*?)\}\}/g, function(x){   
                    console.log(x)
                   // this grabs replacement tags
                return x.replace( /\[(\d+)\]/g,'.$1' )
            }); 
            */
            //var html = document.getElementById('tpl-section').innerHTML
            var html = 
                '<section id="{{id}}" class="farm-page">'+
                    '<section class="farm-pusher" id="{{id}}-pusher">'+
                        '<section id="{{id}}-page" class="{{id}}-page farm-content">'+
                            '<span class="farm-spinner-overlay">'+
                                '<p class="farm-spinner" viewbox="0 0 256 256" icon="#farm_spinner"></p>'+
                            '</span>'+
                        '</section>'+
                    '</section>'+
                '</section>';

            //verificamos que el id no esta repetido
            var z = document.getElementById(id);
            if(typeof(z) != 'undefined' && z != null){
                z.remove(z.selectedIndex);
                console.error('Alert! page repetida id: '+id)
            }
            var output = html.replace( /\{\{(.*?)\}\}/g, id);  
            var x = document.getElementById(page);
            x.innerHTML += output;
        },

        merge: function(obj1,obj2){
            var obj3 = {};
            for (var attrname in obj1) { obj3[attrname] = obj1[attrname]; }
            for (var attrname in obj2) { obj3[attrname] = obj2[attrname]; }
            return obj3;
        },

        //http://stackoverflow.com/questions/11197247/javascript-equivalent-of-jquerys-extend-method
        extend: function(){
            for(var i=1; i<arguments.length; i++)
                for(var key in arguments[i])
                    if(arguments[i].hasOwnProperty(key))
                        arguments[0][key] = arguments[i][key];

            return arguments[0];
        },

        loads: function( roots ){
            var b = roots.b,
                c = roots.c,
                t = roots.t,
                p = roots.p,
                s = roots.s;

            //////////////////////////////////////// carga de css
            
            for (var i in c) { 
                if (c.hasOwnProperty(i)) { 
                    //console.log('Loading css: '+ c[i]);
                    farm.fn.css( b+c[i]+'.css' );
                }
            }
            ////////////////////////////////////////// Carga de templates

            for (var i in t) { 
                if (t.hasOwnProperty(i)) { 
                    //console.log('Loading templates: '+ t[i]);
                    farm.fn.js(t[i]+'.js');
                }
            }
            ////////////////////////////////////////// Carga de pages
            
            for (var i in p) { 
                if (p.hasOwnProperty(i)) { 
                    //console.log('Loading pages: '+ p[i]);
                    farm.fn.pages(p[i], 'farm-main');
                }
            }
            ////////////////////////////////////////// Carga de svg

            for (var i in s) { 
                if (s.hasOwnProperty(i)) {
                    //console.log('Loading icons: '+ s[i]);
                    loadSVG( s[i]+'.js', i );
                }
            }
            function loadSVG(root, id, callback) {
                farm.fn.js( root, 'svg_'+id, function(data) {
                        document.getElementById("farmSVG").innerHTML += window["tpl_"+id]
                });
            };
            ////////////////////////////////////////// control browser

            farm.n = farm.fn.browser();

            function bw_status() {
                var n = farm.n, browserStatus = false;

                for(var index in farm.o.bwstatus){
                    browserStatus = (n[index]  && n.version >= parseInt(farm.o.bwstatus[index]));
                    if(browserStatus)return browserStatus;
                }
                return browserStatus;
            };

            farm.n.browserStatus = bw_status();

            //////////////////////////////////////////
        },
        /*Browser detection patch*/
        browser: function(){
            var sas = {};
            var nAgt = navigator.userAgent;

            browser = {};
            browser.mozilla = false;
            browser.webkit = false;
            browser.opera = false;
            browser.safari = false;
            browser.chrome = false;
            browser.msie = false;

            browser.ua = nAgt;

            browser.name  = navigator.appName;
            browser.fullVersion  = ''+parseFloat(navigator.appVersion);
            browser.majorVersion = parseInt(navigator.appVersion,10);
            var nameOffset,verOffset,ix;

            // In Opera, the true version is after "Opera" or after "Version"
            if ((verOffset=nAgt.indexOf("Opera"))!=-1) {
                browser.opera = true;
                browser.name = "Opera";
                browser.fullVersion = nAgt.substring(verOffset+6);
                if ((verOffset=nAgt.indexOf("Version"))!=-1)
                    browser.fullVersion = nAgt.substring(verOffset+8);
            }

            // In Opera > 20 the true version is after "OPR"
            else if ((verOffset=nAgt.indexOf("OPR"))!=-1) {
                browser.opera = true;
                browser.name = "Opera";
                browser.fullVersion = nAgt.substring(verOffset+4);
            }

            // In MSIE < 11, the true version is after "MSIE" in userAgent
            else if ( (verOffset=nAgt.indexOf("MSIE"))!=-1) {
                browser.msie = true;
                browser.name = "Microsoft Internet Explorer";
                browser.fullVersion = nAgt.substring(verOffset+5);
            }

            // In TRIDENT (IE11) => 11, the true version is after "rv:" in userAgent
            else if (nAgt.indexOf("Trident")!=-1 ) {
                browser.msie = true;
                browser.name = "Microsoft Internet Explorer";
                var start = nAgt.indexOf("rv:")+3;
                var end = start+4;
                browser.fullVersion = nAgt.substring(start,end);
            }

            // In Chrome, the true version is after "Chrome"
            else if ((verOffset=nAgt.indexOf("Chrome"))!=-1) {
                browser.webkit = true;
                browser.chrome = true;
                browser.name = "Chrome";
                browser.fullVersion = nAgt.substring(verOffset+7);
            }
            // In Safari, the true version is after "Safari" or after "Version"
            else if ((verOffset=nAgt.indexOf("Safari"))!=-1) {
                browser.webkit = true;
                browser.safari = true;
                browser.name = "Safari";
                browser.fullVersion = nAgt.substring(verOffset+7);
                if ((verOffset=nAgt.indexOf("Version"))!=-1)
                    browser.fullVersion = nAgt.substring(verOffset+8);
            }
            // In Safari, the true version is after "Safari" or after "Version"
            else if ((verOffset=nAgt.indexOf("AppleWebkit"))!=-1) {
                browser.webkit = true;
                browser.name = "Safari";
                browser.fullVersion = nAgt.substring(verOffset+7);
                if ((verOffset=nAgt.indexOf("Version"))!=-1)
                    browser.fullVersion = nAgt.substring(verOffset+8);
            }
            // In Firefox, the true version is after "Firefox"
            else if ((verOffset=nAgt.indexOf("Firefox"))!=-1) {
                browser.mozilla = true;
                browser.name = "Firefox";
                browser.fullVersion = nAgt.substring(verOffset+8);
            }
            // In most other browsers, "name/version" is at the end of userAgent
            else if ( (nameOffset=nAgt.lastIndexOf(' ')+1) < (verOffset=nAgt.lastIndexOf('/')) ){
                browser.name = nAgt.substring(nameOffset,verOffset);
                browser.fullVersion = nAgt.substring(verOffset+1);
                if (browser.name.toLowerCase()==browser.name.toUpperCase()) {
                    browser.name = navigator.appName;
                }
            }

            // trim the fullVersion string at semicolon/space if present
            if ((ix=browser.fullVersion.indexOf(";"))!=-1)
                browser.fullVersion=browser.fullVersion.substring(0,ix);
            if ((ix=browser.fullVersion.indexOf(" "))!=-1)
                browser.fullVersion=browser.fullVersion.substring(0,ix);

            browser.majorVersion = parseInt(''+browser.fullVersion,10);
            if (isNaN(browser.majorVersion)) {
                browser.fullVersion  = ''+parseFloat(navigator.appVersion);
                browser.majorVersion = parseInt(navigator.appVersion,10);
            }
            browser.version = browser.majorVersion;
            var OSName="unknown OS";
            if      ((verOffset=nAgt.indexOf("Win"))!=-1)   { OSName="Windows"; }
            else if ((verOffset=nAgt.indexOf("Mac"))!=-1)   { OSName="MacOSX"; }
            else if ((verOffset=nAgt.indexOf("X11"))!=-1)   { OSName="UNIX"; }
            else if ((verOffset=nAgt.indexOf("Linux"))!=-1) { OSName="Linux"; }
            else if ((verOffset=nAgt.indexOf("Mobile"))!=-1){ OSName="Mobile"; }

            browser.os = OSName;
            browser.platform = navigator.platform;


            /*Check all mobile environments*/
            browser.android = (/Android/i).test(nAgt);
            browser.blackberry = (/BlackBerry/i).test(nAgt);
            browser.ios = (/iPhone|iPad|iPod/i).test(nAgt);
            browser.operaMobile = (/Opera Mini/i).test(nAgt);
            browser.windowsMobile = (/IEMobile/i).test(nAgt);
            browser.mobile = browser.android || browser.blackberry || browser.ios || browser.windowsMobile || browser.operaMobile;

            return browser;
        },

        log: function(color, msg, obj) {
            color = color || "black";
            var bgc = "White";
            switch (color) {
                case "success":  color = "Green";      bgc = "LimeGreen";       break;
                case "info":     color = "DodgerBlue"; bgc = "Turquoise";       break;
                case "error":    color = "Red";        bgc = "Black";           break;
                case "start":    color = "OliveDrab";  bgc = "PaleGreen";       break;
                case "warning":  color = "Tomato";     bgc = "Black";           break;
                case "end":      color = "Orchid";     bgc = "MediumVioletRed"; break;
                default: color = color;
            }

            if (typeof msg == "object") {
                //console.log(msg);
                console.log("%c" + msg, "color:" + color + ";font-weight:bold; background-color: " + bgc + ";");
            } else if (obj) {
                console.log("%c" + msg, "color:" + color + ";font-weight:bold; background-color: " + bgc + ";", obj);
            } else {
                console.log("%c" + msg, "color:" + color + ";font-weight:bold; background-color: " + bgc + ";");
                
            }
            /*
            if (typeof msg == "object") {
                console.log(msg);
            } else if (typeof color == "object") {
                console.log("%c" + msg, "color: PowderBlue;font-weight:bold; background-color: RoyalBlue;");
                console.log(color);
            } else {
                console.log("%c" + msg, "color:" + color + ";font-weight:bold; background-color: " + bgc + ";");
            }
            */
        }
        /*
        console.log('%c a colorful message', 'background: green; color: white; display: block;');
        console.log("%c function mr: ", "background: #222; color: #bada55", response);

        Use:

        log(null, "hey"); // Will be black
        log("green", "Hows life?"); // Will be green
        log("success", "I did it"); // Styled so as to show how great of a success it was!
        log("error", "FAIL!!"); // Red on black!
        log("info", 'texto: ', someObject); // prints out "texto: " in blue followed by the someObject  {prop1: "a", prop2: "b", prop3: "c"}

        */
    }
};


;(function() {
    "use strict";

    // Main entry point that gets included in index.html
    // checks for node-webkit before requirejs pipeline.

    // CHECKING FOR NODE-WEBKIT...
    // solves name-conflict with require statement from requirejs
    /*if (window && window.require) {

        //console.log("app.js (node-webkit): initializing nw.gui");
        var nwgui = require('nw.gui');
        window.nwgui = nwgui;

        //console.log("app.js (node-webkit): storing window");
        window.nwWindow = nwgui.Window.get();    

        //console.log("app.js (node-webkit): moving require to requirenw");
        window.requirenw = window.require;
        delete window.require;
        window.requirenw.version = process.versions.node;
        delete process.versions.node;
    }*/

    //console.log("app.js: initializing requirejs main.js");

    //---------------------------- Carga de las opts

    farm.fn.js(farm.f.r.options, 's_opts', function() {

        if(farm.o.opts_ext){

            //console.log('farm: ', farm)

            farm.fn.js(farm.f.r.options_ext, 's_opts_ext', function() {

                var bmo = farm.f.e.rq();

                //console.log(bmo)

                var b = farm.f.r.baseUrl = bmo.b,
                    m = farm.f.r.require = bmo.m,
                    o = farm.f.r.others  = bmo.o;

                farm.fn.js(o, 'c_scp', function() {

                    

                    farm.f.e.ot().then(function(response) {

                        response.b = b;

                        //console.log('response', response)

                        farm.fn.loads(response)

                        load_end(b,m);

                    }, function(error) {
                        console.error("0425 farm.ini.js call Failed!", error);
                    });  
                });
            });

        }else{

            var b = farm.f.r.baseUrl, //baseUrl
                m = farm.f.r.require, //require
                o = farm.f.r.others;  //others roots 

            farm.fn.js(o, 'c_scp', function() {

                var obj = {
                    b : b,        //farm.f.r.baseUrl,
                    c : farm.f.c, //css
                    t : farm.f.t, //remplates 
                    p : farm.f.p, //pages
                    s : farm.f.s, //svgs
                } 
                farm.fn.loads(obj);

                load_end(b,m);
            });
        }

        function load_end(b,m) {

            //---------------------------- Carga del loader

            farm.fn.svg("farmSVG");
            document.getElementById("farmSVG").innerHTML += farm.i.logo//window["tpl_"+i]

            //---------------------------- Carga de pages

            farm.fn.pages('default', 'farm-main');
            var def = document.getElementById("default").setAttribute('farm-select', 'true');
            
            /* Original
            var script = document.createElement("script");
            script.setAttribute("data-main", loadjs); // main entry point requirejs
            script.src = "node_modules/requirejs/require.js"; // link to require.js
            document.body.appendChild(script);
            */

            var script = document.createElement("script");
            if(farm.o.dev===true){
                script.setAttribute("data-main", m); // main entry point requirejs
                script.src = b+'node_modules/requirejs/require.js'; // link to require.js
            }
            else{
                script.setAttribute("data-main", 'index'); // main entry point requirejs
                script.src = 'dist/main.min.js?ver=' + farm.o.cache_ver; // link to require.js

                var scriptTpl = document.createElement("script");
                scriptTpl.src = 'dist/main.tpl.min.js?ver=' + farm.o.cache_ver;
                document.body.appendChild(scriptTpl);

                //farm.fn.css('dist/m' + farm.o.mode + '/main.min.css');
                farm.fn.css( '_css/main.min.css?ver=' + farm.o.cache_ver);
            }
            document.body.appendChild(script);
        }     
    });

}()); // immediately executed.


//http://durandaljs.com/documentation/Native-Apps-With-Node-Webkit.html
//https://github.com/majodev/physiogame
//https://github.com/majodev/requirejs-nodewebkit-template-project


//farm.i = { logo: "<svg id=\"farm_spinner_out\" height=\"0\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">   \n  <!-- viewBox=\"0 0 256 256\" -->\n    <g id=\"farm_spinner\">\n        <g>    \n            <g>\n                <linearGradient id=\"SVGID_1_\" gradientUnits=\"userSpaceOnUse\" x1=\"192\" y1=\"275.4426\" x2=\"192\" y2=\"477.8577\" gradientTransform=\"matrix(1 0 0 -1 0 512.11)\">\n                      <stop  class=\"farm-spinner-stop\" offset=\"6.220000e-02\" style=\"stop-opacity:0.6\"/>\n                      <stop  class=\"farm-spinner-stop\" offset=\"1\" style=\"stop-opacity:0\"/>\n                </linearGradient>\n                <path fill=\"url(#SVGID_1_)\" d=\"M128,0v26.1c56.3,0,101.9,45.6,101.9,101.9c0,56.3-45.6,101.9-101.9,101.9V256c70.7,0,128-57.3,128-128C256,57.3,198.7,0,128,0z\"/>\n                \n              \t<linearGradient id=\"SVGID_2_\" gradientUnits=\"userSpaceOnUse\" x1=\"115.7699\" y1=\"519.1443\" x2=\"13.3699\" y2=\"388.5843\" gradientTransform=\"matrix(1 0 0 -1 0 512.11)\">\n                      <stop  class=\"farm-spinner-stop\" offset=\"0\" />\n                      <stop  class=\"farm-spinner-stop\" offset=\"1\" style=\"stop-opacity:0.8\"/>\n                </linearGradient>\n                <path fill=\"url(#SVGID_2_)\" d=\"M128,26.1c7.2,0,13-5.8,13-13s-5.8-13-13-13l0,0C57.3,0,0,57.3,0,128h26.1C26.1,71.7,71.7,26.1,128,26.1z\"/>\n                \n              \t<linearGradient id=\"SVGID_3_\" gradientUnits=\"userSpaceOnUse\" x1=\"8.5125\" y1=\"320.11\" x2=\"129.473\" y2=\"320.11\" gradientTransform=\"matrix(1 0 0 -1 0 512.11)\">\n                      <stop  class=\"farm-spinner-stop\" offset=\"0\" style=\"stop-opacity:0.8\"/>\n                      <stop  class=\"farm-spinner-stop\" offset=\"1\" style=\"stop-opacity:0.6\"/>\n                </linearGradient>\n                <path fill=\"url(#SVGID_3_)\" d=\"M26.1,128H0c0,70.7,57.3,128,128,128v-26.1C71.7,229.9,26.1,184.3,26.1,128z\"/>\n              \n                <!--<animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 128 128\" to=\"360 128 128\" dur=\"1s\" repeatCount=\"indefinite\"/>-->\n            </g>\n        </g>    \n    </g>    \n    <!-- viewBox=\"0 0 150 40\" -->  \n    <g id=\"farm_logo\">\n        <g>    \n            <g>            \n                <path class=\"farm_logo_fill\" d=\"M140,1.1h-11.5l-4.5,16l-3.7-16h-11.5l-8.1,26.5h-5.2h-0.8c-2.2,0-3.7-0.6-4.6-1.8L88.8,24c2.7-0.7,4.8-1.7,6.3-2.9s2.5-2.7,3.1-4.6c0.6-1.8,0.6-4.4-0.1-7.7c-0.8-2.2-2.2-4-4-5.3c-1.8-1.3-4.1-2.1-7-2.4H64.2v29.5L54.9,1.1H1v37.8h11.5V27.8h12.1v-8.8H12.5v-6.6H34l-8.1,26.5h12.6l2.2-6.8h10.5l2.2,6.8h23.5V26.4l5.6,6.3c3.7,4.1,7.4,6.2,11.1,6.2h16l4.8-16.3l4.2,16.3h10.5l4.9-16.3l3.3,16.3h11.3L140,1.1z M41.2,24.4l5.1-15l4.7,15H41.2z M87.3,16.9c-0.6,0.4-1.1,0.6-1.5,0.6h-8.9v-7h8.9c0.4,0,0.9,0.2,1.5,0.7c0.6,0.5,0.9,1.4,1,2.9C88.2,15.6,87.9,16.6,87.3,16.9z\"/>\n                <path class=\"farm_logo_stroke\" d=\"M140,1.1l8.7,37.8h-11.3l-3.3-16.3l-4.9,16.3h-10.5l-4.2-16.3l-4.8,16.3h-16c-3.6,0-7.3-2.1-11.1-6.2l-5.6-6.3v12.5H53.4l-2.2-6.8H40.7l-2.2,6.8H25.9L34,12.4H12.5v6.6h12.1v8.8H12.5v11.1H1V1.1h53.9l9.2,29.5V1.1h22.9c2.8,0.3,5.2,1.1,7,2.4c1.8,1.3,3.2,3.1,4,5.3c0.7,3.3,0.7,5.9,0.1,7.7c-0.6,1.8-1.6,3.3-3.1,4.6s-3.6,2.2-6.3,2.9l1.3,1.8c0.9,1.2,2.4,1.8,4.6,1.8h0.8h5.2l8.1-26.5h11.5l3.7,16l4.5-16H140 M41.2,24.4h9.7l-4.7-15L41.2,24.4 M76.9,17.5h8.9c0.5,0,1-0.2,1.5-0.6c0.6-0.4,0.8-1.3,0.9-2.8c-0.1-1.4-0.4-2.4-1-2.9c-0.6-0.5-1.1-0.7-1.5-0.7h-8.9V17.5 M140.8,0H140h-11.5h-0.8l-0.2,0.8l-3.4,12.1l-2.8-12L121.1,0h-0.8h-11.5h-0.8l-0.2,0.8L100,26.5h-4.5h-0.8c-1.8,0-3.1-0.5-3.8-1.4l-0.3-0.5c2.1-0.7,3.9-1.6,5.1-2.6c1.6-1.3,2.8-3.1,3.4-5.1c0.7-2,0.6-4.8-0.1-8.3l0-0.1l0-0.1C98.1,6,96.6,4,94.7,2.6c-2-1.4-4.5-2.3-7.5-2.6l0,0h0H64.2h-1v1.1v22.7l-7.2-23L55.7,0h-0.7H1H0v1.1v37.8V40h1h11.5h1v-1.1v-10h11.1h1v-1.1v-8.8v-1.1h-1H13.6v-4.3h19l-7.7,25.1L24.4,40h1.4h12.6h0.7l0.2-0.7l2-6.1h9l2,6.1l0.2,0.7h0.7h23.5h1v-1.1v-9.7l3.8,4.2c3.9,4.4,7.9,6.6,11.8,6.6h16h0.8l0.2-0.8l3.8-12.7l3.3,12.7l0.2,0.8h0.8h10.5h0.8l0.2-0.8l3.7-12.4l2.5,12.2l0.2,0.9h0.8h11.3h1.3l-0.3-1.4L141,0.8L140.8,0L140.8,0z M77.9,11.6h7.8c0,0,0.2,0,0.8,0.5c0.1,0.1,0.5,0.5,0.6,2c0,1.6-0.4,1.9-0.4,1.9c-0.4,0.3-0.7,0.4-1,0.4h-7.8V11.6L77.9,11.6z M42.7,23.3l3.5-10.4l3.3,10.4H42.7L42.7,23.3z\"/>\n            </g>\n        </g>\n    </g>\n</svg>"};


farm.i = { logo:"<svg id=\"farm_spinner_out\" height=\"0\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">"+
    "<!-- viewBox=\"0 0 256 256\" -->"+
    "<g id=\"farm_spinner\">"+        
        "<g>"+            
            "<g>"+                
                "<linearGradient id=\"SVGID_1_\" gradientUnits=\"userSpaceOnUse\" x1=\"192\" y1=\"275.4426\" x2=\"192\" y2=\"477.8577\" gradientTransform=\"matrix(1 0 0 -1 0 512.11)\">"+                      
                    "<stop  class=\"farm-spinner-stop\" offset=\"6.220000e-02\" style=\"stop-opacity:0.6\"/>"+                      
                    "<stop  class=\"farm-spinner-stop\" offset=\"1\" style=\"stop-opacity:0\"/>"+                
                "</linearGradient>"+                
                "<path fill=\"url(#SVGID_1_)\" d=\"M128,0v26.1c56.3,0,101.9,45.6,101.9,101.9c0,56.3-45.6,101.9-101.9,101.9V256c70.7,0,128-57.3,128-128C256,57.3,198.7,0,128,0z\"/>"+   
                "<linearGradient id=\"SVGID_2_\" gradientUnits=\"userSpaceOnUse\" x1=\"115.7699\" y1=\"519.1443\" x2=\"13.3699\" y2=\"388.5843\" gradientTransform=\"matrix(1 0 0 -1 0 512.11)\">"+                      
                    "<stop  class=\"farm-spinner-stop\" offset=\"0\" />"+                      
                    "<stop  class=\"farm-spinner-stop\" offset=\"1\" style=\"stop-opacity:0.8\"/>"+                
                "</linearGradient>"+                
                "<path fill=\"url(#SVGID_2_)\" d=\"M128,26.1c7.2,0,13-5.8,13-13s-5.8-13-13-13l0,0C57.3,0,0,57.3,0,128h26.1C26.1,71.7,71.7,26.1,128,26.1z\"/>"+                
                "<linearGradient id=\"SVGID_3_\" gradientUnits=\"userSpaceOnUse\" x1=\"8.5125\" y1=\"320.11\" x2=\"129.473\" y2=\"320.11\" gradientTransform=\"matrix(1 0 0 -1 0 512.11)\">"+                      
                    "<stop  class=\"farm-spinner-stop\" offset=\"0\" style=\"stop-opacity:0.8\"/>"+                      
                    "<stop  class=\"farm-spinner-stop\" offset=\"1\" style=\"stop-opacity:0.6\"/>"+                
                "</linearGradient>"+                
                "<path fill=\"url(#SVGID_3_)\" d=\"M26.1,128H0c0,70.7,57.3,128,128,128v-26.1C71.7,229.9,26.1,184.3,26.1,128z\"/>"+              
                "<!--<animateTransform attributeType=\"xml\" attributeName=\"transform\" type=\"rotate\" from=\"0 128 128\" to=\"360 128 128\" dur=\"1s\" repeatCount=\"indefinite\"/>-->"+            
            "</g>"+        
        "</g>"+    
    "</g>"+    
    "<!-- viewBox=\"0 0 150 40\" -->  "+    
    "<g id=\"farm_logo\">"+        
        "<g>"+            
            "<g>"+                
                "<path class=\"farm_logo_fill\" d=\"M140,1.1h-11.5l-4.5,16l-3.7-16h-11.5l-8.1,26.5h-5.2h-0.8c-2.2,0-3.7-0.6-4.6-1.8L88.8,24c2.7-0.7,4.8-1.7,6.3-2.9s2.5-2.7,3.1-4.6c0.6-1.8,0.6-4.4-0.1-7.7c-0.8-2.2-2.2-4-4-5.3c-1.8-1.3-4.1-2.1-7-2.4H64.2v29.5L54.9,1.1H1v37.8h11.5V27.8h12.1v-8.8H12.5v-6.6H34l-8.1,26.5h12.6l2.2-6.8h10.5l2.2,6.8h23.5V26.4l5.6,6.3c3.7,4.1,7.4,6.2,11.1,6.2h16l4.8-16.3l4.2,16.3h10.5l4.9-16.3l3.3,16.3h11.3L140,1.1z M41.2,24.4l5.1-15l4.7,15H41.2z M87.3,16.9c-0.6,0.4-1.1,0.6-1.5,0.6h-8.9v-7h8.9c0.4,0,0.9,0.2,1.5,0.7c0.6,0.5,0.9,1.4,1,2.9C88.2,15.6,87.9,16.6,87.3,16.9z\"/>"+                
                "<path class=\"farm_logo_stroke\" d=\"M140,1.1l8.7,37.8h-11.3l-3.3-16.3l-4.9,16.3h-10.5l-4.2-16.3l-4.8,16.3h-16c-3.6,0-7.3-2.1-11.1-6.2l-5.6-6.3v12.5H53.4l-2.2-6.8H40.7l-2.2,6.8H25.9L34,12.4H12.5v6.6h12.1v8.8H12.5v11.1H1V1.1h53.9l9.2,29.5V1.1h22.9c2.8,0.3,5.2,1.1,7,2.4c1.8,1.3,3.2,3.1,4,5.3c0.7,3.3,0.7,5.9,0.1,7.7c-0.6,1.8-1.6,3.3-3.1,4.6s-3.6,2.2-6.3,2.9l1.3,1.8c0.9,1.2,2.4,1.8,4.6,1.8h0.8h5.2l8.1-26.5h11.5l3.7,16l4.5-16H140 M41.2,24.4h9.7l-4.7-15L41.2,24.4 M76.9,17.5h8.9c0.5,0,1-0.2,1.5-0.6c0.6-0.4,0.8-1.3,0.9-2.8c-0.1-1.4-0.4-2.4-1-2.9c-0.6-0.5-1.1-0.7-1.5-0.7h-8.9V17.5 M140.8,0H140h-11.5h-0.8l-0.2,0.8l-3.4,12.1l-2.8-12L121.1,0h-0.8h-11.5h-0.8l-0.2,0.8L100,26.5h-4.5h-0.8c-1.8,0-3.1-0.5-3.8-1.4l-0.3-0.5c2.1-0.7,3.9-1.6,5.1-2.6c1.6-1.3,2.8-3.1,3.4-5.1c0.7-2,0.6-4.8-0.1-8.3l0-0.1l0-0.1C98.1,6,96.6,4,94.7,2.6c-2-1.4-4.5-2.3-7.5-2.6l0,0h0H64.2h-1v1.1v22.7l-7.2-23L55.7,0h-0.7H1H0v1.1v37.8V40h1h11.5h1v-1.1v-10h11.1h1v-1.1v-8.8v-1.1h-1H13.6v-4.3h19l-7.7,25.1L24.4,40h1.4h12.6h0.7l0.2-0.7l2-6.1h9l2,6.1l0.2,0.7h0.7h23.5h1v-1.1v-9.7l3.8,4.2c3.9,4.4,7.9,6.6,11.8,6.6h16h0.8l0.2-0.8l3.8-12.7l3.3,12.7l0.2,0.8h0.8h10.5h0.8l0.2-0.8l3.7-12.4l2.5,12.2l0.2,0.9h0.8h11.3h1.3l-0.3-1.4L141,0.8L140.8,0L140.8,0z M77.9,11.6h7.8c0,0,0.2,0,0.8,0.5c0.1,0.1,0.5,0.5,0.6,2c0,1.6-0.4,1.9-0.4,1.9c-0.4,0.3-0.7,0.4-1,0.4h-7.8V11.6L77.9,11.6z M42.7,23.3l3.5-10.4l3.3,10.4H42.7L42.7,23.3z\"/>"+
            "</g>"+        
        "</g>"+   
    "</g>"+
"</svg>"};


